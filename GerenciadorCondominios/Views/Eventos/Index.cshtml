@model IEnumerable<GerenciadorCondominios.BLL.Models.Evento>

@{
	ViewData["Title"] = "Eventos Cadastrados";
	string controller = this.ViewContext.RouteData.Values["controller"].ToString();
}

<div class="tabelas">
 <partial name="_Confirmacoes" />

 <div class="collection with-header">
  <div class="collection-header grey darken-1">
   <div class="row">
	<div class="col s10">
	 <h6 class="white-text"> Eventos Cadastrados</h6>
	</div>
	<div class="col s2">
	 <a asp-controller="Eventos" asp-action="Create" class="waves-effect waves-light btn-small btn-floating grey darken-4 tooltip" data-position="right" data-tooltip="Novo evento">
	  <i class="material-icons">add</i>
	 </a>
	</div>
   </div>
  </div>
  <div class="collection-item">
   <table class="striped highlight responsive">
	<thead>
	 <tr>
	  <th>
							@Html.DisplayNameFor(model => model.Nome)
	  </th>
	  <th>
							@Html.DisplayNameFor(model => model.DataEvento)
	  </th>
	  <th>Ações</th>
	 </tr>
	</thead>
	<tbody>
					@foreach (var item in Model)
					{
		 <tr>
		  <td>
								@Html.DisplayFor(modelItem => item.Nome)
		  </td>
		  <td>
								@Html.DisplayFor(modelItem => item.DataEvento)
		  </td>
		  <td>
		   <a asp-controller="Eventos" asp-action="Edit" asp-route-id="@item.EventoId" class="waves-effect waves-light btn-small  btn-floating blue darken-4 tooltip" data-position="right" data-tooltip="Atualizar Evento">
			<i class="material-icons">mode_edit</i>
		   </a> |

		   <a onclick="ConfirmarExclusao(@item.EventoId, '@item.Nome','@controller')" class="waves-effect waves-light btn-small btn-floating red darken-4 tooltip modal-trigger" data-target="modal" data-position="right" data-tooltip="Excluir Evento">
			<i class="material-icons">delete_forever</i>
		   </a>
		  </td>
		 </tr>
					}
	</tbody>
   </table>
  </div>
 </div>
</div>
<partial name="_ModalExcluir"/>

@section Scripts
{
    <script src="~/js/ConfirmaExclusao.js"></script>
}
